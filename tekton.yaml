---
apiVersion: v1
kind: Secret
metadata:
  name: secret-git-ssh
  annotations:
    tekton.dev/git-0: github.com
type: kubernetes.io/ssh-auth
data:
  # Generated by:
  # cat id_rsa | base64 -w 0
  # This deploy key has read-only permissions on github.com/knative/build
  ssh-privatekey: ""
  # Generated by:
  # ssh-keyscan github.com | base64 -w 0
  known_hosts: ""
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: account-git-ssh
secrets:
- name: secret-git-ssh
---
apiVersion: tekton.dev/v1alpha1
kind: TaskRun
metadata:
  name: test-taskrun-with-serviceaccount-git-ssh
spec:
  serviceAccount: account-git-ssh
  inputs:
    resources:
    - name: gitssh
      resourceSpec:
        type: git
        params:
        - name: revision
          value: master
        - name: url
          value: git@github.com:reschex/rc-announcer.git
  taskSpec:
    inputs:
      resources:
      - name: gitssh
        type: git
    steps:
    - name: config
      image: ubuntu
      command: ["/bin/bash"]
      args: ["-c", "cat /workspace/rc-announcer/README.md"]
